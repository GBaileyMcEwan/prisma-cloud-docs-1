== Transporter Health Check

The health check provides about the VCS integrations and the most recent connection establishment time. The Transporter runs health checks every hour, and you manually refresh the connection at any time through Prisma Cloud.

Prisma Cloud scans every Transporter configuration for a secure connection. After authenticating the secure connection, you will be able to view the health check of the Transporter.

image::application-security/transport-health-check1.1.png[]

NOTE: You must run at least three test checks before running the Docker image. Response options: `ok:true` for passed checks, `ok:false` for failed checks.

=== Health Check Types

Prisma cloud supports three types of client health checks: 'Transporter Client at VCS Domain', 'Transporter Client at Prisma Cloud Server' and 'Transporter Client in client environment and Transporter Client at Prisma Cloud environment'.

=== Transporter Client at VCS Domain

*Route - /internalcheck*: Verifies connectivity with your VCS machine via Transporter.

Example: `curl -X GET \https://your-transporter-hostname/internalcheck`.

Apply additional headers to a `curl` command to specify the target VCS for the check:

* *x-forwarded-host*: Specifies the VCS machine hostname for the check. 
+
Example: `curl -H "x-forwarded-host: <VCS_machine_hostname>"` 

* *x-forwarded-path*: Defines the path of the request to be sent to the VCS machine. 
+
Example: `curl -H "x-forwarded-path: <path_to_send>"`

* *x-forwarded-proto*: Specifies the protocol for checking connectivity, either HTTPS or HTTP. 
+
Example: `curl -H "x-forwarded-proto: <https_or_http>" 

=== Transporter Client at Prisma Cloud Server

* *Route - /externalcheck*: This route checks whether there is internet access to the Prisma server from the local machine. It utilizes the /login route with the access key and secret key for authentication.

Example:

[source, bash]
----
curl -X POST \https://your-prisma-server-url/externalcheck/login \
     -d "accessKey=your_access_key" \
     -d "secretKey=your_secret_key"
----

==== Transporter Client in Client Environment and Transporter Client at Prisma Cloud Environment

* *Route - /selfcheck*: Checks if the certificates provided are valid for the domain of the machine and runs on request over HTTPS.
+
Example: `curl -X GET \https://your-machine-domain/selfcheck`.

* */healthz*: Used for Docker `healthcheck` on the internal port `8080`. 
+
Example: `curl -X GET \http://localhost:8080/healthz`.